<!DOCTYPE html>
<html class="dark" lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Fintrak Counterparties</title>
    <script
      src="https://cdn.tailwindcss.com?plugins=forms,container-queries"
    ></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    >
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
      rel="stylesheet"
    >
    <script id="tailwind-config">
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              "primary": "#ff6933",
              "bg-light": "#f6f6f8",
              "bg-dark": "#101622",
              "bg-dark-content": "#1c2333",
            },
            fontFamily: {
              "display": ["Plus Jakarta Sans"]
            },
            borderRadius: {
              "DEFAULT": "0.25rem",
              "lg": "0.5rem",
              "xl": "0.75rem",
              "full": "9999px"
            },
          },
        },
      }
    </script>
    <style>
      body {
        font-family: 'Plus Jakarta Sans', sans-serif;
      }
      .material-symbols-outlined {
        font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
      }
      summary::-webkit-details-marker { display: none; }
      summary { list-style: none; }

      @keyframes card-in {
        from { opacity: 0; transform: translateY(14px); }
        to   { opacity: 1; transform: translateY(0); }
      }
      .card-in {
        animation: card-in 0.3s ease both;
      }

      /* Scrollbar */
      .scrollable {
        scrollbar-width: thin;
        scrollbar-color: rgba(255, 105, 51, 0.3) transparent;
      }
      .scrollable::-webkit-scrollbar {
        width: 6px;
      }
      .scrollable::-webkit-scrollbar-track {
        background: transparent;
      }
      .scrollable::-webkit-scrollbar-thumb {
        background-color: rgba(255, 105, 51, 0.3);
        border-radius: 9999px;
      }
      .scrollable::-webkit-scrollbar-thumb:hover {
        background-color: rgba(255, 105, 51, 0.6);
      }

      /* Desktop sidebar collapse */
      .sidebar-wrapper {
        flex-shrink: 0;
        width: 16rem;
        transition: width 300ms ease-in-out;
      }
      body:has(#sidebar-toggle:checked) .sidebar-wrapper {
        width: 4rem;
      }
      .desktop-sidebar {
        overflow: hidden;
      }
      body:has(#sidebar-toggle:checked) .sidebar-label {
        display: none;
      }
      body:has(#sidebar-toggle:checked) .sidebar-submenu {
        display: none;
      }
      body:has(#sidebar-toggle:checked) .sidebar-section-chevron {
        display: none;
      }
      body:has(#sidebar-toggle:checked) .desktop-sidebar nav a,
      body:has(#sidebar-toggle:checked) .desktop-sidebar nav details > summary {
        justify-content: center;
        padding-left: 0.5rem;
        padding-right: 0.5rem;
      }
      .sidebar-toggle-icon {
        transition: transform 300ms ease-in-out;
      }
      body:has(#sidebar-toggle:checked) .sidebar-toggle-icon {
        transform: rotate(180deg);
      }
    </style>
  </head>
  <body
    class="bg-bg-light dark:bg-bg-dark text-slate-900 dark:text-slate-100 min-h-screen"
  >
    <!-- Mobile nav state (checkbox hack) -->
    <input type="checkbox" id="nav-toggle" class="peer sr-only">

    <!-- Desktop sidebar collapse state -->
    <input type="checkbox" id="sidebar-toggle" class="sr-only">

    <!-- Mobile overlay — clicking it closes the drawer -->
    <label
      for="nav-toggle"
      class="fixed inset-0 bg-black/50 z-40 opacity-0 pointer-events-none transition-opacity duration-300 peer-checked:opacity-100 peer-checked:pointer-events-auto lg:hidden"
    ></label>

    <!-- Mobile sidebar drawer -->
    <aside
      class="scrollable fixed top-0 left-0 h-full w-72 z-50 flex flex-col bg-white dark:bg-bg-dark-content shadow-2xl -translate-x-full transition-transform duration-300 ease-in-out peer-checked:translate-x-0 overflow-y-auto lg:hidden"
    >
      <!-- Drawer header -->
      <div
        class="flex items-center justify-between p-4 border-b border-slate-100 dark:border-primary/10 shrink-0"
      >
        <div class="flex items-center gap-3">
          <svg
            width="28"
            height="28"
            viewBox="0 0 40 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="40" height="40" rx="12" fill="#ff6933"/>
            <path
              d="M12 14h16M12 20h12M12 26h8"
              stroke="white"
              stroke-width="2.5"
              stroke-linecap="round"
            />
          </svg>
          <h2 class="text-lg font-bold tracking-tight">Fintrak</h2>
        </div>
        <label
          for="nav-toggle"
          class="p-2 hover:bg-slate-100 dark:hover:bg-primary/20 rounded-lg cursor-pointer text-slate-500 dark:text-slate-300"
        >
          <span class="material-symbols-outlined">close</span>
        </label>
      </div>
      <!-- Drawer nav -->
      <nav class="flex-1 overflow-y-auto p-4 flex flex-col gap-1">
        <a
          class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-primary/10 text-slate-600 dark:text-slate-300"
          href="overview.html"
        >
          <span class="material-symbols-outlined">dashboard</span>
          <span class="text-sm">Overview</span>
        </a>
        <details class="group mt-2" open>
          <summary
            class="flex items-center justify-between gap-3 px-3 py-2.5 rounded-lg cursor-pointer hover:bg-slate-100 dark:hover:bg-primary/10 text-slate-600 dark:text-slate-300"
          >
            <div class="flex items-center gap-3">
              <span class="material-symbols-outlined">payments</span>
              <span class="text-sm font-medium">Budget</span>
            </div>
            <span
              class="material-symbols-outlined text-xs transition-transform group-open:rotate-180"
              >keyboard_arrow_down</span
            >
          </summary>
          <div class="ml-6 mt-1 flex flex-col gap-1 pl-2">
            <a
              class="px-3 py-1.5 text-sm text-slate-500 dark:text-slate-400 hover:text-[#ff6933] dark:hover:text-[#ff6933] transition-colors"
              href="expenses.html"
              >Expenses/Incomes</a
            >
            <a class="px-3 py-1.5 text-sm text-primary font-semibold" href="counterparties.html"
              >Counterparties</a
            >
            <a
              class="px-3 py-1.5 text-sm text-slate-500 dark:text-slate-400 hover:text-[#ff6933] dark:hover:text-[#ff6933] transition-colors"
              href="categories.html"
              >Categories</a
            >
          </div>
        </details>
        <details class="group mt-1">
          <summary
            class="flex items-center justify-between gap-3 px-3 py-2.5 rounded-lg cursor-pointer hover:bg-slate-100 dark:hover:bg-primary/10 text-slate-600 dark:text-slate-300"
          >
            <div class="flex items-center gap-3">
              <span class="material-symbols-outlined">account_balance</span>
              <span class="text-sm font-medium">Banking</span>
            </div>
            <span
              class="material-symbols-outlined text-xs transition-transform group-open:rotate-180"
              >keyboard_arrow_down</span
            >
          </summary>
          <div class="ml-6 mt-1 flex flex-col gap-1 pl-2">
            <a
              class="px-3 py-1.5 text-sm text-slate-500 dark:text-slate-400 hover:text-[#ff6933] dark:hover:text-[#ff6933] transition-colors"
              href="banking.html"
              >Bank overview</a
            >
            <a
              class="px-3 py-1.5 text-sm text-slate-500 dark:text-slate-400 hover:text-[#ff6933] dark:hover:text-[#ff6933] transition-colors"
              href="transactions.html"
              >Transactions</a
            >
          </div>
        </details>
        <a
          class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-primary/10 text-slate-600 dark:text-slate-300"
          href="investments.html"
        >
          <span class="material-symbols-outlined">trending_up</span>
          <span class="text-sm font-medium">Investments</span>
        </a>
        <a
          class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-primary/10 text-slate-600 dark:text-slate-300"
          href="reports.html"
        >
          <span class="material-symbols-outlined">analytics</span>
          <span class="text-sm font-medium">Reports</span>
        </a>
      </nav>

      <!-- Drawer preferences section -->
      <div
        class="shrink-0 border-t border-slate-100 dark:border-primary/10 px-4 pt-3 pb-1 flex flex-col gap-1"
      >
        <button
          data-theme-toggle
          class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-primary/10 text-slate-600 dark:text-slate-300 w-full text-left"
        >
          <span class="material-symbols-outlined">light_mode</span>
          <span class="text-sm font-medium">Appearance</span>
        </button>
        <a
          href="#"
          class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-primary/10 text-slate-600 dark:text-slate-300"
        >
          <span class="material-symbols-outlined">language</span>
          <span class="text-sm font-medium">Language</span>
        </a>
      </div>

      <!-- Drawer user section -->
      <div
        class="shrink-0 border-t border-slate-100 dark:border-primary/10 p-4 flex flex-col gap-1"
      >
        <div class="flex items-center gap-3 px-3 py-2">
          <div
            class="h-9 w-9 rounded-full bg-primary/20 flex items-center justify-center text-primary overflow-hidden shrink-0"
          >
            <img
              class="w-full h-full object-cover"
              src="https://lh3.googleusercontent.com/aida-public/AB6AXuCGl7FmpUZy8Z5uf-bcwJa9bpOqvao8OPw0VVn4y_TS4HP_c2tnzeF6EV6dy7wLHTRuu9YDpBjypSZSkMEtngszJLdssHsEPHNUyRHaEsjiTwvNc6jtjm8ETaYk_N6axXRnaqGiLjbZlBTUpp_9oPzMKD-OCpLT_35VdwCvG7JR5aL9woo7Bpml0QGDHOUjFFek0gyeA93KmPL36SeVko0uxG_ryc1gbgKuH-KuErIgTae_41UMIZZIcsNOvrifbv9GJGteskYllZ0y"
            >
          </div>
          <div class="min-w-0">
            <p class="text-sm font-semibold leading-none truncate">
              Pablo Ibanez
            </p>
            <p class="text-[11px] text-slate-500 dark:text-slate-400 truncate">
              pabloiveron@gmail.com
            </p>
          </div>
        </div>
        <a
          href="settings.html"
          class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-primary/10 text-slate-600 dark:text-slate-300"
        >
          <span class="material-symbols-outlined">settings</span>
          <span class="text-sm font-medium">Settings</span>
        </a>
        <a
          href="login.html"
          class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-rose-50 dark:hover:bg-rose-500/10 text-rose-500"
        >
          <span class="material-symbols-outlined">logout</span>
          <span class="text-sm font-medium">Sign out</span>
        </a>
      </div>
    </aside>

    <!-- App shell -->
    <div class="flex flex-col h-screen">
      <!-- TopNavBar -->
      <header
        class="flex items-center justify-between bg-bg-light dark:bg-bg-dark px-4 lg:px-6 py-3 shrink-0"
      >
        <!-- Search expand toggle (CSS-only state) -->
        <input type="checkbox" id="search-toggle" class="peer/search sr-only">

        <!-- Left: hamburger (mobile) + logo -->
        <div
          class="flex items-center gap-2 lg:gap-4 peer-checked/search:hidden lg:flex"
        >
          <!-- Hamburger (mobile only) -->
          <label
            for="nav-toggle"
            class="lg:hidden flex items-center p-2 hover:bg-slate-100 dark:hover:bg-primary/20 rounded-lg cursor-pointer text-slate-500 dark:text-slate-300"
          >
            <span class="material-symbols-outlined">menu</span>
          </label>
          <!-- Logo -->
          <div class="flex items-center gap-3">
            <svg
              class="hidden lg:block"
              width="32"
              height="32"
              viewBox="0 0 40 40"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect width="40" height="40" rx="12" fill="#ff6933"/>
              <path
                d="M12 14h16M12 20h12M12 26h8"
                stroke="white"
                stroke-width="2.5"
                stroke-linecap="round"
              />
            </svg>
            <h2 class="text-xl font-bold tracking-tight">Fintrak</h2>
          </div>
        </div>

        <!-- Mobile search bar (hidden by default, expands when search-toggle is checked) -->
        <div
          class="hidden peer-checked/search:flex lg:hidden flex-1 items-center gap-1"
        >
          <label
            for="search-toggle"
            class="flex items-center p-2 hover:bg-slate-100 dark:hover:bg-primary/20 rounded-lg cursor-pointer text-slate-500 dark:text-slate-300 shrink-0"
          >
            <span class="material-symbols-outlined">arrow_back</span>
          </label>
          <div class="relative flex-1">
            <span
              class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-[20px]"
              >search</span
            >
            <input
              class="w-full bg-slate-100 dark:bg-white/10 border-none rounded-lg pl-10 pr-4 py-2 text-sm focus:ring-2 focus:ring-primary/50 text-slate-900 dark:text-slate-100 placeholder:text-slate-400"
              placeholder="Find counterparty..."
              type="text"
            >
          </div>
        </div>

        <!-- Right: actions + user -->
        <div
          class="flex items-center gap-1 lg:gap-2 peer-checked/search:hidden lg:flex"
        >
          <!-- Search (desktop only) -->
          <div class="relative w-64 hidden lg:block mr-4">
            <span
              class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"
              >search</span
            >
            <input
              class="w-full bg-slate-100 dark:bg-white/10 border-none rounded-lg pl-10 pr-4 py-2 text-sm focus:ring-2 focus:ring-primary/50 text-slate-900 dark:text-slate-100 placeholder:text-slate-400"
              placeholder="Find counterparty..."
              type="text"
            >
          </div>
          <!-- Search icon (mobile only, opens search) -->
          <label
            for="search-toggle"
            class="lg:hidden flex items-center justify-center p-2 hover:bg-slate-100 dark:hover:bg-primary/20 rounded-lg cursor-pointer text-slate-500 dark:text-slate-300"
          >
            <span class="material-symbols-outlined">search</span>
          </label>
          <!-- Cycle -->
          <button
            class="flex items-center justify-center p-2 hover:bg-slate-100 dark:hover:bg-primary/20 rounded-lg text-slate-500 dark:text-slate-300"
          >
            <span class="material-symbols-outlined">cycle</span>
          </button>
          <!-- Notifications -->
          <button
            class="flex items-center justify-center p-2 hover:bg-slate-100 dark:hover:bg-primary/20 rounded-lg text-slate-500 dark:text-slate-300"
          >
            <span class="material-symbols-outlined">notifications</span>
          </button>
          <!-- Theme toggle (desktop only) -->
          <button
            id="theme-toggle"
            data-theme-toggle
            class="hidden lg:flex items-center justify-center p-2 hover:bg-slate-100 dark:hover:bg-primary/20 rounded-lg text-slate-500 dark:text-slate-300"
            title="Toggle dark/light mode"
          >
            <span class="material-symbols-outlined">light_mode</span>
          </button>
          <!-- Language (desktop only) -->
          <button
            class="hidden lg:flex items-center justify-center p-2 hover:bg-slate-100 dark:hover:bg-primary/20 rounded-lg text-slate-500 dark:text-slate-300"
          >
            <span class="material-symbols-outlined">language</span>
          </button>
          <!-- Divider (desktop only) -->
          <div
            class="hidden lg:block h-8 w-px bg-slate-200 dark:bg-primary/20"
          ></div>
          <!-- User dropdown (desktop only) -->
          <details class="relative group/user hidden lg:block">
            <summary
              class="flex items-center gap-3 p-1.5 pr-3 hover:bg-slate-100 dark:hover:bg-primary/20 rounded-lg transition-colors cursor-pointer"
            >
              <div
                class="h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary overflow-hidden"
              >
                <img
                  class="w-full h-full object-cover"
                  data-alt="Pablo Ibanez profile picture avatar"
                  src="https://lh3.googleusercontent.com/aida-public/AB6AXuCGl7FmpUZy8Z5uf-bcwJa9bpOqvao8OPw0VVn4y_TS4HP_c2tnzeF6EV6dy7wLHTRuu9YDpBjypSZSkMEtngszJLdssHsEPHNUyRHaEsjiTwvNc6jtjm8ETaYk_N6axXRnaqGiLjbZlBTUpp_9oPzMKD-OCpLT_35VdwCvG7JR5aL9woo7Bpml0QGDHOUjFFek0gyeA93KmPL36SeVko0uxG_ryc1gbgKuH-KuErIgTae_41UMIZZIcsNOvrifbv9GJGteskYllZ0y"
                >
              </div>
              <div class="text-left hidden lg:block">
                <p class="text-sm font-semibold leading-none">Pablo Ibanez</p>
                <p class="text-[11px] text-slate-500 dark:text-slate-400">
                  pabloiveron@gmail.com
                </p>
              </div>
              <span
                class="material-symbols-outlined text-slate-400 transition-transform group-open/user:rotate-180"
                >expand_more</span
              >
            </summary>
            <div
              class="absolute right-0 top-full mt-2 w-48 bg-white dark:bg-bg-dark-content rounded-xl shadow-lg border border-slate-200 dark:border-primary/10 overflow-hidden z-50"
            >
              <a
                href="#"
                class="flex items-center gap-2 p-3 text-xs text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-primary/10 transition-colors"
              >
                <span
                  class="material-symbols-outlined text-slate-400 text-[18px]"
                  >settings</span
                >
                Settings
              </a>
              <div class="h-px bg-slate-100 dark:bg-primary/10 mx-3"></div>
              <a
                href="login.html"
                class="flex items-center gap-2 p-3 text-xs text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-500/10 transition-colors"
              >
                <span class="material-symbols-outlined text-[18px]"
                  >logout</span
                >
                Sign out
              </a>
            </div>
          </details>
        </div>
      </header>

      <div
        class="flex flex-1 overflow-hidden p-2 lg:p-4 lg:pb-0 gap-2 lg:gap-4"
      >
        <!-- Sidebar column (desktop only) -->
        <div class="sidebar-wrapper hidden lg:flex flex-col">
          <!-- Sidebar -->
          <aside
            class="desktop-sidebar flex flex-col bg-white dark:bg-bg-dark-content rounded-xl w-full"
          >
            <nav class="p-3 flex flex-col gap-1">
              <a
                class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-primary/10 text-slate-600 dark:text-slate-300"
                href="overview.html"
              >
                <span class="material-symbols-outlined shrink-0"
                  >dashboard</span
                >
                <span class="sidebar-label text-sm">Overview</span>
              </a>
              <details class="group mt-1" open>
                <summary
                  class="flex items-center justify-between gap-3 px-3 py-2.5 rounded-lg cursor-pointer bg-primary text-white font-semibold"
                >
                  <div class="flex items-center gap-3">
                    <span class="material-symbols-outlined shrink-0"
                      >payments</span
                    >
                    <span class="sidebar-label text-sm font-medium"
                      >Budget</span
                    >
                  </div>
                  <span
                    class="sidebar-section-chevron material-symbols-outlined text-xs transition-transform group-open:rotate-180"
                    >keyboard_arrow_down</span
                  >
                </summary>
                <div class="sidebar-submenu ml-6 mt-1 flex flex-col gap-1 pl-2">
                  <a
                    class="px-3 py-1.5 text-sm text-slate-500 dark:text-slate-400 hover:text-[#ff6933] dark:hover:text-[#ff6933] transition-colors"
                    href="#"
                    >Expenses/Incomes</a
                  >
                  <a
                    class="px-3 py-1.5 text-sm text-primary font-semibold"
                    href="#"
                    >Counterparties</a
                  >
                  <a
                    class="px-3 py-1.5 text-sm text-slate-500 dark:text-slate-400 hover:text-[#ff6933] dark:hover:text-[#ff6933] transition-colors"
                    href="#"
                    >Categories</a
                  >
                </div>
              </details>
              <details class="group mt-1">
                <summary
                  class="flex items-center justify-between gap-3 px-3 py-2.5 rounded-lg cursor-pointer hover:bg-slate-100 dark:hover:bg-primary/10 text-slate-600 dark:text-slate-300"
                >
                  <div class="flex items-center gap-3">
                    <span class="material-symbols-outlined shrink-0"
                      >account_balance</span
                    >
                    <span class="sidebar-label text-sm font-medium"
                      >Banking</span
                    >
                  </div>
                  <span
                    class="sidebar-section-chevron material-symbols-outlined text-xs transition-transform group-open:rotate-180"
                    >keyboard_arrow_down</span
                  >
                </summary>
                <div class="sidebar-submenu ml-6 mt-1 flex flex-col gap-1 pl-2">
                  <a
                    class="px-3 py-1.5 text-sm text-slate-500 dark:text-slate-400 hover:text-[#ff6933] dark:hover:text-[#ff6933] transition-colors"
                    href="#"
                    >Bank overview</a
                  >
                  <a
                    class="px-3 py-1.5 text-sm text-slate-500 dark:text-slate-400 hover:text-[#ff6933] dark:hover:text-[#ff6933] transition-colors"
                    href="#"
                    >Transactions</a
                  >
                </div>
              </details>
              <a
                class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-primary/10 text-slate-600 dark:text-slate-300"
                href="#"
              >
                <span class="material-symbols-outlined shrink-0"
                  >trending_up</span
                >
                <span class="sidebar-label text-sm font-medium"
                  >Investments</span
                >
              </a>
              <a
                class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-100 dark:hover:bg-primary/10 text-slate-600 dark:text-slate-300"
                href="#"
              >
                <span class="material-symbols-outlined shrink-0"
                  >analytics</span
                >
                <span class="sidebar-label text-sm font-medium">Reports</span>
              </a>
            </nav>
          </aside>

          <!-- Collapse toggle (pinned to bottom of page) -->
          <div class="mt-auto py-3 px-3">
            <label
              for="sidebar-toggle"
              class="flex items-center justify-center w-full py-2 rounded-lg cursor-pointer text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 bg-slate-100 dark:bg-white/5 hover:bg-slate-200 dark:hover:bg-white/10 transition-colors"
            >
              <span
                class="material-symbols-outlined text-[20px] sidebar-toggle-icon"
                >chevron_left</span
              >
            </label>
          </div>
        </div>

        <!-- Main Content Area -->
        <main
          class="scrollable flex-1 overflow-y-auto px-4 pt-4 lg:px-8 lg:pt-8"
        >
          <div class="mx-auto w-full space-y-6 lg:space-y-8">
            <!-- Page Header -->
            <div
              class="flex flex-col xl:flex-row xl:items-center justify-between gap-4"
            >
              <div>
                <h1 class="text-2xl lg:text-3xl font-extrabold tracking-tight">
                  Counterparties
                </h1>
                <p class="text-sm text-slate-500 dark:text-slate-400">
                  Manage your frequent merchants and payment entities.
                </p>
              </div>
              <div class="flex items-center gap-3">
                <div class="relative flex-1 xl:flex-none">
                  <span
                    class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-lg"
                    >search</span
                  >
                  <input
                    class="bg-white dark:bg-bg-dark-content border border-slate-200 dark:border-primary/10 rounded-lg pl-10 pr-4 h-9 text-sm focus:ring-2 focus:ring-primary/50 w-full xl:w-56"
                    placeholder="Find specific entity..."
                    type="text"
                  >
                </div>
                <button
                  class="hidden xl:flex bg-primary hover:bg-primary/90 text-white px-4 h-9 rounded-lg text-sm font-semibold items-center gap-2 shadow-lg shadow-primary/20"
                >
                  <span class="material-symbols-outlined text-lg">add</span>
                  Add Counterparty
                </button>
              </div>
            </div>

            <!-- Stats Grid -->
            <div class="hidden sm:grid grid-cols-3 gap-4 lg:gap-6">
              <div
                class="bg-white dark:bg-bg-dark-content p-5 rounded-xl border border-slate-200 dark:border-none shadow-sm"
              >
                <p
                  class="text-xs font-semibold text-slate-400 uppercase tracking-wider"
                >
                  Total Counterparties
                </p>
                <div class="flex items-end justify-between mt-2">
                  <h3 class="text-2xl font-bold">142</h3>
                  <span
                    class="text-emerald-500 text-xs font-bold bg-emerald-500/10 px-2 py-0.5 rounded"
                    >+4 this month</span
                  >
                </div>
              </div>
              <div
                class="bg-white dark:bg-bg-dark-content p-5 rounded-xl border border-slate-200 dark:border-none shadow-sm"
              >
                <p
                  class="text-xs font-semibold text-slate-400 uppercase tracking-wider"
                >
                  Most Active (last 30 days)
                </p>
                <div class="flex items-end justify-between mt-2">
                  <h3 class="text-2xl font-bold">Merchant A</h3>
                  <span class="text-primary text-xs font-bold">12 txns</span>
                </div>
              </div>
              <div
                class="bg-white dark:bg-bg-dark-content p-5 rounded-xl border border-slate-200 dark:border-none shadow-sm"
              >
                <p
                  class="text-xs font-semibold text-slate-400 uppercase tracking-wider"
                >
                  Highest Spend Category
                </p>
                <div class="flex items-end justify-between mt-2">
                  <h3 class="text-2xl font-bold">Entertainment</h3>
                  <span class="material-symbols-outlined text-primary"
                    >theater_comedy</span
                  >
                </div>
              </div>
            </div>

            <!-- Counterparties List -->
            <div>
              <!-- Toolbar -->
              <div
                class="bg-white dark:bg-bg-dark-content rounded-xl border border-slate-200 dark:border-none shadow-sm p-4 mb-3 flex flex-wrap items-center justify-between gap-4"
              >
                <div class="flex items-center gap-4">
                  <div class="flex items-center gap-2">
                    <span
                      class="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase"
                      >Type:</span
                    >
                    <select
                      class="bg-white dark:bg-bg-dark-content border border-slate-200 dark:border-primary/10 rounded-md text-xs font-medium py-1 px-2 focus:ring-primary"
                    >
                      <option>All Types</option>
                      <option>Merchant</option>
                      <option>Individual</option>
                      <option>Utility</option>
                    </select>
                  </div>
                </div>
              </div>
              <!-- Counterparty cards -->
              <div class="flex flex-col gap-2" id="counterparty-list">
                <!-- Item: Amazon -->
                <a href="#" class="block px-4 py-4 xl:px-6 xl:grid xl:grid-cols-[1fr_6rem_6rem_3rem] xl:items-center xl:gap-x-4 bg-bg-light dark:bg-bg-dark rounded-xl border border-slate-200 dark:border-primary/10 shadow shadow-slate-200 dark:shadow-primary/10 hover:shadow-lg hover:shadow-primary/20 dark:hover:shadow-primary/20 hover:border-primary/40 dark:hover:border-primary/30 transition-all group cursor-pointer">
                  <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-lg bg-slate-100 dark:bg-primary/10 flex items-center justify-center shrink-0 overflow-hidden"><img src="https://fintrak-media-prod.s3.eu-west-1.amazonaws.com/users/68835f15998c6de77ad7a51b/counterparty-logo/3773d3de882524d4f74ca7272de34408.png" alt="Amazon" class="w-full h-full object-cover"></div>
                    <div class="min-w-0"><p class="font-bold text-sm truncate group-hover:text-primary transition-colors">Amazon</p><p class="text-[11px] text-slate-500 uppercase font-medium">Shopping</p></div>
                    <p class="ml-auto font-bold text-sm shrink-0 xl:hidden">€245.80</p>
                  </div>
                  <div class="mt-1 flex items-center justify-between xl:mt-0 xl:contents">
                    <span class="px-1.5 py-0.5 xl:px-2 xl:py-1 rounded-full text-[9px] xl:text-[10px] font-bold bg-blue-100 text-blue-600 dark:bg-blue-500/10 dark:text-blue-400">COMPANY</span>
                    <p class="hidden xl:block font-bold text-sm text-right">€245.80</p>
                    <span class="hidden xl:block text-sm font-medium text-center">8</span>
                  </div>
                </a>
                <!-- Item: Ayuntamiento Rivas -->
                <a href="#" class="block px-4 py-4 xl:px-6 xl:grid xl:grid-cols-[1fr_6rem_6rem_3rem] xl:items-center xl:gap-x-4 bg-bg-light dark:bg-bg-dark rounded-xl border border-slate-200 dark:border-primary/10 shadow shadow-slate-200 dark:shadow-primary/10 hover:shadow-lg hover:shadow-primary/20 dark:hover:shadow-primary/20 hover:border-primary/40 dark:hover:border-primary/30 transition-all group cursor-pointer">
                  <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-lg bg-slate-100 dark:bg-primary/10 flex items-center justify-center shrink-0 overflow-hidden"><img src="https://fintrak-media-prod.s3.eu-west-1.amazonaws.com/users/68835f15998c6de77ad7a51b/counterparty-logo/f05eeb2532cb4d0389a652366f42bc3e.png" alt="Ayuntamiento Rivas" class="w-full h-full object-cover"></div>
                    <div class="min-w-0"><p class="font-bold text-sm truncate group-hover:text-primary transition-colors">Ayuntamiento Rivas</p><p class="text-[11px] text-slate-500 uppercase font-medium">Tax</p></div>
                    <p class="ml-auto font-bold text-sm shrink-0 xl:hidden">€120.00</p>
                  </div>
                  <div class="mt-1 flex items-center justify-between xl:mt-0 xl:contents">
                    <span class="px-1.5 py-0.5 xl:px-2 xl:py-1 rounded-full text-[9px] xl:text-[10px] font-bold bg-purple-100 text-purple-600 dark:bg-purple-500/10 dark:text-purple-400">INSTITUTION</span>
                    <p class="hidden xl:block font-bold text-sm text-right">€120.00</p>
                    <span class="hidden xl:block text-sm font-medium text-center">1</span>
                  </div>
                </a>
                <!-- Item: Carrefour -->
                <a href="#" class="block px-4 py-4 xl:px-6 xl:grid xl:grid-cols-[1fr_6rem_6rem_3rem] xl:items-center xl:gap-x-4 bg-bg-light dark:bg-bg-dark rounded-xl border border-slate-200 dark:border-primary/10 shadow shadow-slate-200 dark:shadow-primary/10 hover:shadow-lg hover:shadow-primary/20 dark:hover:shadow-primary/20 hover:border-primary/40 dark:hover:border-primary/30 transition-all group cursor-pointer">
                  <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-lg bg-slate-100 dark:bg-primary/10 flex items-center justify-center shrink-0 overflow-hidden"><img src="https://fintrak-media-prod.s3.eu-west-1.amazonaws.com/users/68835f15998c6de77ad7a51b/counterparty-logo/e9c75cd423a46356e04ee4979bfb216d.png" alt="Carrefour" class="w-full h-full object-cover"></div>
                    <div class="min-w-0"><p class="font-bold text-sm truncate group-hover:text-primary transition-colors">Carrefour</p><p class="text-[11px] text-slate-500 uppercase font-medium">Grocery</p></div>
                    <p class="ml-auto font-bold text-sm shrink-0 xl:hidden">€312.45</p>
                  </div>
                  <div class="mt-1 flex items-center justify-between xl:mt-0 xl:contents">
                    <span class="px-1.5 py-0.5 xl:px-2 xl:py-1 rounded-full text-[9px] xl:text-[10px] font-bold bg-blue-100 text-blue-600 dark:bg-blue-500/10 dark:text-blue-400">COMPANY</span>
                    <p class="hidden xl:block font-bold text-sm text-right">€312.45</p>
                    <span class="hidden xl:block text-sm font-medium text-center">12</span>
                  </div>
                </a>
                <!-- Item: El Corte Inglés -->
                <a href="#" class="block px-4 py-4 xl:px-6 xl:grid xl:grid-cols-[1fr_6rem_6rem_3rem] xl:items-center xl:gap-x-4 bg-bg-light dark:bg-bg-dark rounded-xl border border-slate-200 dark:border-primary/10 shadow shadow-slate-200 dark:shadow-primary/10 hover:shadow-lg hover:shadow-primary/20 dark:hover:shadow-primary/20 hover:border-primary/40 dark:hover:border-primary/30 transition-all group cursor-pointer">
                  <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-lg bg-slate-100 dark:bg-primary/10 flex items-center justify-center shrink-0 overflow-hidden"><img src="https://fintrak-media-prod.s3.eu-west-1.amazonaws.com/users/68835f15998c6de77ad7a51b/counterparty-logo/ebbaed6cbaa42b22741e8e54ed221ae7.png" alt="El Corte Inglés" class="w-full h-full object-cover"></div>
                    <div class="min-w-0"><p class="font-bold text-sm truncate group-hover:text-primary transition-colors">El Corte Inglés</p><p class="text-[11px] text-slate-500 uppercase font-medium">Shopping</p></div>
                    <p class="ml-auto font-bold text-sm shrink-0 xl:hidden">€1,299.00</p>
                  </div>
                  <div class="mt-1 flex items-center justify-between xl:mt-0 xl:contents">
                    <span class="px-1.5 py-0.5 xl:px-2 xl:py-1 rounded-full text-[9px] xl:text-[10px] font-bold bg-blue-100 text-blue-600 dark:bg-blue-500/10 dark:text-blue-400">COMPANY</span>
                    <p class="hidden xl:block font-bold text-sm text-right">€1,299.00</p>
                    <span class="hidden xl:block text-sm font-medium text-center">1</span>
                  </div>
                </a>
                <!-- Item: Google -->
                <a href="#" class="block px-4 py-4 xl:px-6 xl:grid xl:grid-cols-[1fr_6rem_6rem_3rem] xl:items-center xl:gap-x-4 bg-bg-light dark:bg-bg-dark rounded-xl border border-slate-200 dark:border-primary/10 shadow shadow-slate-200 dark:shadow-primary/10 hover:shadow-lg hover:shadow-primary/20 dark:hover:shadow-primary/20 hover:border-primary/40 dark:hover:border-primary/30 transition-all group cursor-pointer">
                  <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-lg bg-slate-100 dark:bg-primary/10 flex items-center justify-center shrink-0 overflow-hidden"><img src="https://fintrak-media-prod.s3.eu-west-1.amazonaws.com/users/68835f15998c6de77ad7a51b/counterparty-logo/09e1fc634913a30a1fa4d554b8b9835f.png" alt="Google" class="w-full h-full object-cover"></div>
                    <div class="min-w-0"><p class="font-bold text-sm truncate group-hover:text-primary transition-colors">Google</p><p class="text-[11px] text-slate-500 uppercase font-medium">Subscriptions</p></div>
                    <p class="ml-auto font-bold text-sm shrink-0 xl:hidden">€3.99</p>
                  </div>
                  <div class="mt-1 flex items-center justify-between xl:mt-0 xl:contents">
                    <span class="px-1.5 py-0.5 xl:px-2 xl:py-1 rounded-full text-[9px] xl:text-[10px] font-bold bg-blue-100 text-blue-600 dark:bg-blue-500/10 dark:text-blue-400">COMPANY</span>
                    <p class="hidden xl:block font-bold text-sm text-right">€3.99</p>
                    <span class="hidden xl:block text-sm font-medium text-center">1</span>
                  </div>
                </a>
                <!-- Item: Mercadona -->
                <a href="#" class="block px-4 py-4 xl:px-6 xl:grid xl:grid-cols-[1fr_6rem_6rem_3rem] xl:items-center xl:gap-x-4 bg-bg-light dark:bg-bg-dark rounded-xl border border-slate-200 dark:border-primary/10 shadow shadow-slate-200 dark:shadow-primary/10 hover:shadow-lg hover:shadow-primary/20 dark:hover:shadow-primary/20 hover:border-primary/40 dark:hover:border-primary/30 transition-all group cursor-pointer">
                  <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-lg bg-slate-100 dark:bg-primary/10 flex items-center justify-center shrink-0 overflow-hidden"><img src="https://fintrak-media-prod.s3.eu-west-1.amazonaws.com/users/68835f15998c6de77ad7a51b/counterparty-logo/2869a610e86c6bf8f42d6b63dbbe6eeb.png" alt="Mercadona" class="w-full h-full object-cover"></div>
                    <div class="min-w-0"><p class="font-bold text-sm truncate group-hover:text-primary transition-colors">Mercadona</p><p class="text-[11px] text-slate-500 uppercase font-medium">Grocery</p></div>
                    <p class="ml-auto font-bold text-sm shrink-0 xl:hidden">€423.60</p>
                  </div>
                  <div class="mt-1 flex items-center justify-between xl:mt-0 xl:contents">
                    <span class="px-1.5 py-0.5 xl:px-2 xl:py-1 rounded-full text-[9px] xl:text-[10px] font-bold bg-blue-100 text-blue-600 dark:bg-blue-500/10 dark:text-blue-400">COMPANY</span>
                    <p class="hidden xl:block font-bold text-sm text-right">€423.60</p>
                    <span class="hidden xl:block text-sm font-medium text-center">15</span>
                  </div>
                </a>
                <!-- Item: Movistar -->
                <a href="#" class="block px-4 py-4 xl:px-6 xl:grid xl:grid-cols-[1fr_6rem_6rem_3rem] xl:items-center xl:gap-x-4 bg-bg-light dark:bg-bg-dark rounded-xl border border-slate-200 dark:border-primary/10 shadow shadow-slate-200 dark:shadow-primary/10 hover:shadow-lg hover:shadow-primary/20 dark:hover:shadow-primary/20 hover:border-primary/40 dark:hover:border-primary/30 transition-all group cursor-pointer">
                  <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-lg bg-slate-100 dark:bg-primary/10 flex items-center justify-center shrink-0 overflow-hidden"><img src="https://fintrak-media-prod.s3.eu-west-1.amazonaws.com/users/68835f15998c6de77ad7a51b/counterparty-logo/b518beb3722521b1e31502b3becedd85.png" alt="Movistar" class="w-full h-full object-cover"></div>
                    <div class="min-w-0"><p class="font-bold text-sm truncate group-hover:text-primary transition-colors">Movistar</p><p class="text-[11px] text-slate-500 uppercase font-medium">Utilities</p></div>
                    <p class="ml-auto font-bold text-sm shrink-0 xl:hidden">€52.90</p>
                  </div>
                  <div class="mt-1 flex items-center justify-between xl:mt-0 xl:contents">
                    <span class="px-1.5 py-0.5 xl:px-2 xl:py-1 rounded-full text-[9px] xl:text-[10px] font-bold bg-blue-100 text-blue-600 dark:bg-blue-500/10 dark:text-blue-400">COMPANY</span>
                    <p class="hidden xl:block font-bold text-sm text-right">€52.90</p>
                    <span class="hidden xl:block text-sm font-medium text-center">1</span>
                  </div>
                </a>
                <!-- Item: Naturgy -->
                <a href="#" class="block px-4 py-4 xl:px-6 xl:grid xl:grid-cols-[1fr_6rem_6rem_3rem] xl:items-center xl:gap-x-4 bg-bg-light dark:bg-bg-dark rounded-xl border border-slate-200 dark:border-primary/10 shadow shadow-slate-200 dark:shadow-primary/10 hover:shadow-lg hover:shadow-primary/20 dark:hover:shadow-primary/20 hover:border-primary/40 dark:hover:border-primary/30 transition-all group cursor-pointer">
                  <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-lg bg-slate-100 dark:bg-primary/10 flex items-center justify-center shrink-0 overflow-hidden"><img src="https://fintrak-media-prod.s3.eu-west-1.amazonaws.com/users/68835f15998c6de77ad7a51b/counterparty-logo/7ada344f152650365146774ee598b488.svg" alt="Naturgy" class="w-full h-full object-cover"></div>
                    <div class="min-w-0"><p class="font-bold text-sm truncate group-hover:text-primary transition-colors">Naturgy</p><p class="text-[11px] text-slate-500 uppercase font-medium">Utilities</p></div>
                    <p class="ml-auto font-bold text-sm shrink-0 xl:hidden">€87.30</p>
                  </div>
                  <div class="mt-1 flex items-center justify-between xl:mt-0 xl:contents">
                    <span class="px-1.5 py-0.5 xl:px-2 xl:py-1 rounded-full text-[9px] xl:text-[10px] font-bold bg-blue-100 text-blue-600 dark:bg-blue-500/10 dark:text-blue-400">COMPANY</span>
                    <p class="hidden xl:block font-bold text-sm text-right">€87.30</p>
                    <span class="hidden xl:block text-sm font-medium text-center">1</span>
                  </div>
                </a>
                <!-- Item: Netflix -->
                <a href="#" class="block px-4 py-4 xl:px-6 xl:grid xl:grid-cols-[1fr_6rem_6rem_3rem] xl:items-center xl:gap-x-4 bg-bg-light dark:bg-bg-dark rounded-xl border border-slate-200 dark:border-primary/10 shadow shadow-slate-200 dark:shadow-primary/10 hover:shadow-lg hover:shadow-primary/20 dark:hover:shadow-primary/20 hover:border-primary/40 dark:hover:border-primary/30 transition-all group cursor-pointer">
                  <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-lg bg-slate-100 dark:bg-primary/10 flex items-center justify-center shrink-0 overflow-hidden"><img src="https://fintrak-media-prod.s3.eu-west-1.amazonaws.com/users/68835f15998c6de77ad7a51b/counterparty-logo/eea57f67d5389b33debcf442f05db184.png" alt="Netflix" class="w-full h-full object-cover"></div>
                    <div class="min-w-0"><p class="font-bold text-sm truncate group-hover:text-primary transition-colors">Netflix</p><p class="text-[11px] text-slate-500 uppercase font-medium">Subscriptions</p></div>
                    <p class="ml-auto font-bold text-sm shrink-0 xl:hidden">€17.99</p>
                  </div>
                  <div class="mt-1 flex items-center justify-between xl:mt-0 xl:contents">
                    <span class="px-1.5 py-0.5 xl:px-2 xl:py-1 rounded-full text-[9px] xl:text-[10px] font-bold bg-blue-100 text-blue-600 dark:bg-blue-500/10 dark:text-blue-400">COMPANY</span>
                    <p class="hidden xl:block font-bold text-sm text-right">€17.99</p>
                    <span class="hidden xl:block text-sm font-medium text-center">1</span>
                  </div>
                </a>
                <!-- Item: Spotify -->
                <a href="#" class="block px-4 py-4 xl:px-6 xl:grid xl:grid-cols-[1fr_6rem_6rem_3rem] xl:items-center xl:gap-x-4 bg-bg-light dark:bg-bg-dark rounded-xl border border-slate-200 dark:border-primary/10 shadow shadow-slate-200 dark:shadow-primary/10 hover:shadow-lg hover:shadow-primary/20 dark:hover:shadow-primary/20 hover:border-primary/40 dark:hover:border-primary/30 transition-all group cursor-pointer">
                  <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-lg bg-slate-100 dark:bg-primary/10 flex items-center justify-center shrink-0 overflow-hidden"><img src="https://fintrak-media-prod.s3.eu-west-1.amazonaws.com/users/68835f15998c6de77ad7a51b/counterparty-logo/88985fdd44ac3a0089df10564b1bbf8e.png" alt="Spotify" class="w-full h-full object-cover"></div>
                    <div class="min-w-0"><p class="font-bold text-sm truncate group-hover:text-primary transition-colors">Spotify</p><p class="text-[11px] text-slate-500 uppercase font-medium">Subscriptions</p></div>
                    <p class="ml-auto font-bold text-sm shrink-0 xl:hidden">€10.99</p>
                  </div>
                  <div class="mt-1 flex items-center justify-between xl:mt-0 xl:contents">
                    <span class="px-1.5 py-0.5 xl:px-2 xl:py-1 rounded-full text-[9px] xl:text-[10px] font-bold bg-blue-100 text-blue-600 dark:bg-blue-500/10 dark:text-blue-400">COMPANY</span>
                    <p class="hidden xl:block font-bold text-sm text-right">€10.99</p>
                    <span class="hidden xl:block text-sm font-medium text-center">1</span>
                  </div>
                </a>
                <!-- Infinite scroll sentinel -->
                <div id="scroll-sentinel" class="h-2"></div>
              </div>
              <!-- Loading spinner -->
              <div id="scroll-loading" class="hidden justify-center items-center py-6 gap-2">
                <div class="w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"></div>
                <span class="text-xs text-slate-400">Loading more...</span>
              </div>
            </div>
          </div>
          <!-- Footer -->
          <footer
            class="flex items-center justify-end gap-2 px-4 lg:px-6 py-4 text-xs text-slate-400 dark:text-slate-500"
          >
            <a
              href="#"
              class="hidden lg:inline text-slate-500 dark:text-slate-400 hover:text-primary dark:hover:text-primary transition-colors"
              >Design System</a
            >
            <span class="hidden lg:inline text-slate-300 dark:text-slate-600"
              >|</span
            >
            <p>
              Designed and developed by
              <a
                href="https://www.pabloibanez.com"
                target="_blank"
                rel="noopener noreferrer"
                class="text-slate-500 dark:text-slate-400 hover:text-primary dark:hover:text-primary transition-colors"
                >Pablo Ibanez</a
              >
              &copy; <span id="footer-year"></span>
            </p>
          </footer>
        </main>
      </div>
    </div>

    <!-- FAB: Add Counterparty (mobile only) -->
    <button
      class="fixed bottom-6 right-6 xl:hidden w-14 h-14 bg-primary hover:bg-primary/90 text-white rounded-full shadow-xl shadow-primary/30 flex items-center justify-center z-30 transition-transform active:scale-95"
    >
      <span class="material-symbols-outlined text-2xl">add</span>
    </button>

    <script>
      document.getElementById('footer-year').textContent = new Date().getFullYear();

      const html = document.documentElement;
      const themeButtons = document.querySelectorAll('[data-theme-toggle]');

      function syncThemeIcons() {
        const icon = html.classList.contains('dark') ? 'light_mode' : 'dark_mode';
        themeButtons.forEach(btn => {
          btn.querySelector('.material-symbols-outlined').textContent = icon;
        });
      }

      syncThemeIcons();

      themeButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          html.classList.toggle('dark');
          syncThemeIcons();
        });
      });
    </script>
    <script>
      // Infinite scroll
      const list = document.getElementById('counterparty-list');
      const sentinel = document.getElementById('scroll-sentinel');
      const loading = document.getElementById('scroll-loading');
      const templates = Array.from(list.querySelectorAll('a[href]'));
      let templateIndex = 0;
      let isLoading = false;

      function loadMore() {
        if (isLoading) return;
        isLoading = true;
        loading.classList.remove('hidden');
        loading.classList.add('flex');

        setTimeout(() => {
          const fragment = document.createDocumentFragment();
          for (let i = 0; i < 10; i++) {
            const clone = templates[templateIndex % templates.length].cloneNode(true);
            clone.classList.add('card-in');
            clone.style.animationDelay = `${i * 50}ms`;
            fragment.appendChild(clone);
            templateIndex++;
          }
          list.insertBefore(fragment, sentinel);

          loading.classList.add('hidden');
          loading.classList.remove('flex');
          isLoading = false;
        }, 600);
      }

      const observer = new IntersectionObserver((entries) => {
        if (entries[0].isIntersecting) loadMore();
      }, { rootMargin: '200px' });

      observer.observe(sentinel);
    </script>
  </body>
</html>
